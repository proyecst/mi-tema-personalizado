{%- style -%}
  :root {
    --chat-blue: #00D1FF;
    --chat-black: #000000;
    --chat-dark: #1a1a1a;
  }

  /* Bot√≥n Flotante con Pulso */
  .chat-launcher {
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 65px;
    height: 65px;
    background-color: var(--chat-black);
    border: 2px solid var(--chat-blue);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(0, 209, 255, 0.4);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    transition: all 0.3s ease;
  }
  
  .chat-launcher:hover { transform: scale(1.1) rotate(5deg); }
  .chat-launcher svg { width: 32px; height: 32px; fill: var(--chat-blue); }

  /* Ventana de Centro de Ayuda */
  .chat-window {
    position: fixed;
    bottom: 110px;
    right: 30px;
    width: 380px;
    max-height: 600px;
    background: var(--chat-black);
    border: 1px solid #333;
    border-radius: 20px;
    box-shadow: 0 15px 50px rgba(0,0,0,0.8);
    display: none;
    flex-direction: column;
    overflow: hidden;
    z-index: 10000;
    font-family: 'Inter', sans-serif;
  }

  .chat-window.active { display: flex; animation: slideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

  @keyframes slideUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  .chat-header {
    background: var(--chat-blue);
    color: var(--chat-black);
    padding: 25px 20px;
    text-align: left;
    position: relative;
  }

  .chat-header h4 { margin: 0; font-size: 1.2rem; font-weight: 900; text-transform: uppercase; }
  .chat-header p { margin: 5px 0 0; font-size: 0.85rem; font-weight: 600; opacity: 0.8; }

  .chat-body {
    padding: 20px;
    overflow-y: auto;
    background: var(--chat-black);
    color: white;
  }

  .help-section-title {
    font-size: 0.75rem;
    color: var(--chat-blue);
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 15px;
    font-weight: 800;
  }

  .chat-msg {
    background: var(--chat-dark);
    padding: 15px;
    border-radius: 12px;
    margin-bottom: 20px;
    font-size: 0.95rem;
    line-height: 1.5;
    border: 1px solid #333;
  }

  /* Opciones de Ayuda */
  .chat-options {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
  }

  .chat-option-btn {
    background: var(--chat-dark);
    border: 1px solid #444;
    color: #fff;
    padding: 14px 18px;
    border-radius: 10px;
    text-align: left;
    font-size: 0.9rem;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 12px;
    font-weight: 500;
  }

  .chat-option-btn span { color: var(--chat-blue); font-size: 1.2rem; }

  .chat-option-btn:hover {
    border-color: var(--chat-blue);
    background: #222;
    transform: translateX(5px);
  }

  /* Pantalla de respuesta din√°mica */
  #bot-response-container {
    display: none;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #333;
  }

  .back-btn {
    background: transparent;
    border: none;
    color: var(--chat-blue);
    cursor: pointer;
    font-size: 0.8rem;
    font-weight: 700;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .chat-close {
    position: absolute;
    top: 20px;
    right: 20px;
    color: var(--chat-black);
    cursor: pointer;
    font-size: 24px;
    font-weight: bold;
  }
{%- endstyle -%}

<div id="chat-launcher" class="chat-launcher" onclick="toggleChat()">
  <svg viewBox="0 0 24 24"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
</div>

<div id="chat-window" class="chat-window">
  <div class="chat-header">
    <span class="chat-close" onclick="toggleChat()">&times;</span>
    <h4>Centro de Ayuda</h4>
    <p>Kieslect Soporte Oficial</p>
  </div>
  
  <div class="chat-body">
    <div id="main-menu">
      <div class="chat-msg">
        Hola, ¬øc√≥mo podemos ayudarte hoy con tu experiencia Kieslect?
      </div>
      
      <p class="help-section-title">Opciones de Soporte</p>
      
      <div class="chat-options">
        <div class="chat-option-btn" onclick="showHelp('order')">
          <span>üì¶</span> Rastrear mi Pedido
        </div>
        
        <div class="chat-option-btn" onclick="showHelp('faq')">
          <span>‚ùì</span> Preguntas Frecuentes
        </div>
        
        <div class="chat-option-btn" onclick="showHelp('warranty')">
          <span>üõ°Ô∏è</span> Garant√≠a y Devoluciones
        </div>

        <div class="chat-option-btn" onclick="showHelp('app')">
          <span>üì±</span> Problemas con la App
        </div>

        <a href="/pages/contacto" class="chat-option-btn">
          <span>‚úâÔ∏è</span> Enviar un Ticket de Soporte
        </a>
      </div>
    </div>

    <div id="bot-response-container">
      <button class="back-btn" onclick="backToMain()">‚Üê VOLVER AL MEN√ö</button>
      <div id="bot-response-content" class="chat-msg">
        </div>
    </div>
  </div>
</div>

<script>
  function toggleChat() {
    const chat = document.getElementById('chat-window');
    chat.classList.toggle('active');
  }

  function showHelp(type) {
    const main = document.getElementById('main-menu');
    const responseContainer = document.getElementById('bot-response-container');
    const content = document.getElementById('bot-response-content');
    
    main.style.display = 'none';
    responseContainer.style.display = 'block';

    const responses = {
      'order': 'Para rastrear tu pedido, por favor ten a mano tu n√∫mero de orden y visita nuestra p√°gina de Seguimiento. Los pedidos suelen tardar de 3 a 5 d√≠as h√°biles.',
      'faq': '<strong>¬øSon sumergibles?</strong> S√≠, la mayor√≠a tienen certificaci√≥n IP68.<br><br><strong>¬øCu√°nto dura la bater√≠a?</strong> Entre 7 a 15 d√≠as seg√∫n el modelo.<br><br><strong>¬øTienen GPS?</strong> Algunos modelos como el KS Pro incluyen soporte avanzado.',
      'warranty': 'Todos nuestros productos Kieslect cuentan con 1 a√±o de garant√≠a limitada por defectos de f√°brica. Guarda tu comprobante de compra.',
      'app': 'Aseg√∫rate de descargar la App <strong>Kieslect OS</strong> desde la Play Store o App Store. Reinicia el Bluetooth de tu m√≥vil si no detecta el reloj.'
    };

    content.innerHTML = responses[type];
  }

  function backToMain() {
    document.getElementById('main-menu').style.display = 'block';
    document.getElementById('bot-response-container').style.display = 'none';
  }
</script>

{% schema %}
{
  "name": "Centro Ayuda Kieslect",
  "settings": [],
  "presets": [
    { "name": "Centro Ayuda Kieslect" }
  ]
}
{% endschema %}