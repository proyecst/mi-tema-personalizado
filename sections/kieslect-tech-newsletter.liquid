<style>
  @import url('https://fonts.googleapis.com/css2?family=Michroma&display=swap');
</style>

{%- style -%}
  #shopify-section-{{ section.id }} {
    background-color: {{ section.settings.bg_color }};
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
    --k-neon: #00D1FF;
    --k-dark: #0a0a0a;
    --font-futurista: 'Michroma', sans-serif;
  }

  .news-promo-container {
    max-width: 1000px; 
    margin: 0 auto; 
    padding: 80px 40px;
    background: var(--k-dark); 
    border-radius: 0px; /* Bordes rectos industriales */
    text-align: center;
    position: relative; 
    overflow: hidden; 
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* --- BADGE ESTILO BOT --- */
  .news-promo-badge {
    font-family: var(--font-futurista) !important;
    display: inline-flex; 
    align-items: center; 
    gap: 10px;
    background: rgba(0, 209, 255, 0.05); 
    color: var(--k-neon);
    padding: 10px 25px; 
    font-size: 9px;
    font-weight: 400; 
    margin-bottom: 30px; 
    text-transform: uppercase;
    letter-spacing: 2px;
    border: 1px solid var(--k-neon);
  }

  /* --- TÍTULO CON BRILLO ANIMADO --- */
  .news-promo-title { 
    font-family: var(--font-futurista) !important;
    font-size: clamp(1.5rem, 5vw, 2.5rem); 
    font-weight: 700; 
    text-transform: uppercase;
    letter-spacing: 8px !important; /* Espaciado estilo Ethnocentric */
    margin-bottom: 20px;
    line-height: 1.2;
    background: linear-gradient(120deg, rgba(255,255,255,0.1) 30%, #fff 50%, rgba(255,255,255,0.1) 70%);
    background-size: 200% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    color: rgba(255, 255, 255, 0.9);
    animation: newsShine 4s infinite linear;
  }

  @keyframes newsShine {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  .news-promo-subtitle { 
    font-family: var(--font-futurista) !important;
    color: #888; 
    font-size: 11px;
    letter-spacing: 2px;
    margin-bottom: 50px; 
    text-transform: uppercase;
  }

  /* --- FORMULARIO TÉCNICO --- */
  .news-promo-form { 
    display: flex; 
    background: #000; 
    padding: 5px; 
    border-radius: 0px; 
    border: 1px solid rgba(255,255,255,0.1);
    max-width: 600px;
    margin: 0 auto;
  }

  .news-promo-input { 
    flex-grow: 1; 
    padding: 20px 25px; 
    background: transparent; 
    border: none; 
    outline: none; 
    color: #fff; 
    font-family: sans-serif;
    font-size: 14px;
  }

  .news-promo-submit { 
    font-family: var(--font-futurista) !important;
    padding: 0 40px; 
    background: var(--k-neon); 
    color: #000; 
    border: none; 
    border-radius: 0px; 
    font-size: 10px;
    font-weight: 700; 
    cursor: pointer;
    letter-spacing: 1px;
    transition: 0.3s;
  }

  .news-promo-submit:hover {
    background: #fff;
    letter-spacing: 3px;
  }

  .news-promo-success { 
    font-family: var(--font-futurista) !important;
    color: var(--k-neon); 
    padding: 20px; 
    border: 1px solid var(--k-neon); 
    font-size: 10px;
    letter-spacing: 1px;
  }

  .pulse-dot { width: 6px; height: 6px; background: var(--k-neon); border-radius: 50%; animation: k-pulse 1.5s infinite; }
  @keyframes k-pulse { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }

  @media (max-width: 768px) {
    .news-promo-form { flex-direction: column; background: transparent; border: none; gap: 10px; }
    .news-promo-input { background: #000; border: 1px solid rgba(255,255,255,0.1); }
    .news-promo-submit { padding: 20px; }
    .news-promo-title { letter-spacing: 4px !important; }
  }
{%- endstyle -%}

<div class="page-width">
  <div class="news-promo-container">
    {% if section.settings.badge_text != blank %}
      <span class="news-promo-badge"><span class="pulse-dot"></span>{{ section.settings.badge_text }}</span>
    {% endif %}

    <h2 class="news-promo-title">{{ section.settings.title }}</h2>
    <p class="news-promo-subtitle">{{ section.settings.subtitle }}</p>

    <div class="news-promo-form-wrapper">
      {% form 'customer', class: 'news-promo-form' %}
        <input type="hidden" name="contact[tags]" value="newsletter, primer-descuento">
        <input type="hidden" name="contact[accepts_marketing]" value="true">
        
        {% if form.posted_successfully? %}
          <div class="news-promo-success">
            <p>CONEXIÓN ESTABLECIDA. REVISA TU BANDEJA DE ENTRADA.</p>
          </div>
        {% else %}
          <input type="email" name="contact[email]" class="news-promo-input" placeholder="INGRESA TU E-MAIL" required>
          <button type="submit" class="news-promo-submit">
            <span>{{ section.settings.btn_text }}</span>
          </button>
        {% endif %}
      {% endform %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Newsletter Futurista",
  "settings": [
    { "type": "text", "id": "badge_text", "label": "Etiqueta", "default": "ACCESO AL CORE" },
    { "type": "text", "id": "title", "label": "Título", "default": "KIESLECT INSIDER" },
    { "type": "textarea", "id": "subtitle", "label": "Subtítulo", "default": "ÚNETE A LA RED Y RECIBE UN 15% DE DESCUENTO." },
    { "type": "text", "id": "btn_text", "label": "Botón", "default": "CONECTAR" },
    { "type": "color", "id": "bg_color", "label": "Fondo", "default": "#000000" },
    { "type": "range", "id": "padding_top", "min": 0, "max": 100, "default": 80, "unit": "px", "label": "Padding Superior" },
    { "type": "range", "id": "padding_bottom", "min": 0, "max": 100, "default": 80, "unit": "px", "label": "Padding Inferior" }
  ],
  "presets": [{ "name": "Newsletter Futurista" }]
}
{% endschema %}