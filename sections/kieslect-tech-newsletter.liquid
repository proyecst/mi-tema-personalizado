{%- style -%}
  /* Mantengo tu estilo original que está excelente */
  #shopify-section-{{ section.id }} {
    background-color: {{ section.settings.bg_color }};
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
  }
  :root { --k-neon: #00D1FF; --k-dark: #0a0a0a; }
  .news-promo-container {
    max-width: 900px; margin: 0 auto; padding: 60px 40px;
    background: var(--k-dark); border-radius: 30px; text-align: center;
    position: relative; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.1);
  }
  .news-promo-badge {
    display: inline-flex; align-items: center; gap: 8px;
    background: rgba(0, 209, 255, 0.1); color: var(--k-neon);
    padding: 8px 20px; border-radius: 50px; font-size: 11px;
    font-weight: 900; margin-bottom: 25px; text-transform: uppercase;
    border: 1px solid var(--k-neon);
  }
  .news-promo-title { font-size: clamp(1.8rem, 5vw, 3rem); font-weight: 900; color: #fff; margin-bottom: 15px; }
  .news-promo-subtitle { color: #888; margin-bottom: 40px; }
  .news-promo-form { display: flex; background: rgba(255,255,255,0.05); padding: 8px; border-radius: 100px; border: 1px solid rgba(255,255,255,0.1); }
  .news-promo-input { flex-grow: 1; padding: 15px 25px; background: transparent; border: none; outline: none; color: #fff; }
  .news-promo-submit { padding: 15px 35px; background: var(--k-neon); color: #000; border: none; border-radius: 100px; font-weight: 900; cursor: pointer; }
  .news-promo-success { color: var(--k-neon); padding: 20px; border: 1px dashed var(--k-neon); border-radius: 15px; }
{%- endstyle -%}

<div class="page-width">
  <div class="news-promo-container">
    {% if section.settings.badge_text != blank %}
      <span class="news-promo-badge"><span class="pulse-dot"></span>{{ section.settings.badge_text }}</span>
    {% endif %}

    <h2 class="news-promo-title">{{ section.settings.title }}</h2>
    <p class="news-promo-subtitle">{{ section.settings.subtitle }}</p>

    <div class="news-promo-form-wrapper">
      {% form 'customer', class: 'news-promo-form' %}
        <input type="hidden" name="contact[tags]" value="newsletter, primer-descuento">
        <input type="hidden" name="contact[accepts_marketing]" value="true">
        
        {% if form.posted_successfully? %}
          <div class="news-promo-success">
            <p>¡SISTEMA ACTUALIZADO! Revisa tu email para ver tu sorpresa.</p>
          </div>
        {% else %}
          <input type="email" name="contact[email]" class="news-promo-input" placeholder="Tu mejor e-mail" required>
          <button type="submit" class="news-promo-submit">
            <span>{{ section.settings.btn_text }}</span>
          </button>
        {% endif %}
      {% endform %}
    </div>
  </div>
</div>

<style>
  .pulse-dot { width: 6px; height: 6px; background: var(--k-neon); border-radius: 50%; animation: k-pulse 1.5s infinite; }
  @keyframes k-pulse { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.5); opacity: 0; } }
</style>

{% schema %}
{
  "name": "Kieslect Tech Newsletter",
  "settings": [
    { "type": "text", "id": "badge_text", "label": "Etiqueta", "default": "ACCESO EXCLUSIVO" },
    { "type": "text", "id": "title", "label": "Título", "default": "KIESLECT INSIDER" },
    { "type": "textarea", "id": "subtitle", "label": "Subtítulo", "default": "Suscríbete para recibir un 15% de descuento." },
    { "type": "text", "id": "btn_text", "label": "Botón", "default": "UNIRME" },
    { "type": "color", "id": "bg_color", "label": "Fondo", "default": "#000000" },
    { "type": "range", "id": "padding_top", "min": 0, "max": 100, "default": 60, "unit": "px", "label": "Padding Top" },
    { "type": "range", "id": "padding_bottom", "min": 0, "max": 100, "default": 60, "unit": "px", "label": "Padding Bottom" }
  ],
  "presets": [{ "name": "Kieslect Tech Newsletter" }]
}
{% endschema %}