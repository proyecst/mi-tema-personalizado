<style>
  /* 1. IMPORTACIÓN DE TIPOGRAFÍA */
  @font-face {
    font-family: 'Ethnocentric';
    /* REEMPLAZA ESTE LINK POR EL QUE TE DA SHOPIFY AL SUBIR EL ARCHIVO */
    src: url('LINK_DE_TU_ARCHIVO_OTF_AQUI') format('opentype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  :root { 
    --k-cyan: #00D1FF; 
    --k-bg: #0a0a0a; 
    --k-font: 'Ethnocentric', sans-serif; /* Aplicamos tu fuente */
  }

  .k-header-wrapper { 
    width: 100%; 
    background: #000; 
    border-bottom: 1px solid #1a1a1a; 
    position: sticky; 
    top: 0; 
    z-index: 9999; 
    font-family: var(--k-font); /* Fuente en todo el header */
  }

  .k-header-container { 
    max-width: 1300px; 
    height: 80px; 
    margin: 0 auto; 
    display: flex; 
    align-items: center; 
    justify-content: space-between; 
    padding: 0 20px; 
  }

  /* NOMBRE DE MARCA KIESLECTECT */
  .k-logo a { 
    color: #fff; 
    text-decoration: none; 
    font-size: 20px; 
    font-weight: normal; 
    letter-spacing: 1px;
    font-family: var(--k-font);
  }

  .k-nav-main { display: flex; gap: 5px; }
  .k-dropdown { position: relative; }
  
  .k-drop-trigger { 
    background: transparent; 
    color: #fff; 
    border: none; 
    padding: 10px 15px; 
    font-size: 10px; /* Reducido por el ancho de la fuente */
    cursor: pointer; 
    display: flex; 
    align-items: center; 
    gap: 6px; 
    transition: color 0.3s ease; 
    font-family: var(--k-font);
    text-transform: uppercase;
  }

  .k-drop-trigger:hover { color: var(--k-cyan); }
  
  .k-drop-menu { 
    display: none; 
    position: absolute; 
    top: 100%; 
    left: 0; 
    background: var(--k-bg); 
    min-width: 280px; 
    border: 1px solid #1a1a1a; 
    border-radius: 4px; 
    padding: 15px 0; 
    box-shadow: 0 20px 40px rgba(0,0,0,0.8); 
  }

  .k-dropdown.is-open .k-drop-menu { display: block; animation: kSlideUp 0.25s ease forwards; }
  
  .k-menu-label { 
    display: block; 
    padding: 12px 20px 5px; 
    color: var(--k-cyan); 
    font-size: 8px; 
    letter-spacing: 1px; 
    text-transform: uppercase; 
    font-family: var(--k-font);
  }

  .k-item { 
    display: flex !important; 
    align-items: center; 
    justify-content: space-between; 
    padding: 12px 20px; 
    text-decoration: none; 
    background: transparent; 
    width: 100%; 
    cursor: pointer; 
  }

  .k-item-title { 
    color: #fff; 
    font-size: 9px; 
    font-family: var(--k-font); 
    text-transform: uppercase; 
  }

  .k-item-sub { 
    color: #666; 
    font-size: 7px; 
    margin-top: 5px;
    font-family: sans-serif; /* Subtítulos en sans-serif para legibilidad */
  }

  .k-support-btn { 
    width: 100%; 
    background: none; 
    border: none; 
    padding: 12px 20px; 
    text-align: left; 
    color: #fff; 
    font-size: 9px; 
    cursor: pointer; 
    font-family: var(--k-font);
    display: flex;
    justify-content: space-between;
  }

  @keyframes kSlideUp { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
  @media (max-width: 900px) { .k-nav-main { display: none; } }
</style>

<header class="k-header-wrapper">
  <div class="k-header-container">
    <div class="k-logo"><a href="/">KIESLECTECT</a></div>
    <nav class="k-nav-main">
      <a href="/" class="k-drop-trigger" style="text-decoration:none;">INICIO</a>
      {% assign menu_items = "Productos,Comunidad,Soporte" | split: "," %}
      {% for m_title in menu_items %}
        <div class="k-dropdown js-drop">
          <button class="k-drop-trigger" onclick="kToggle(this)">{{ m_title | uppercase }}</button>
          <div class="k-drop-menu">
            {% for block in section.blocks %}
              {% if block.settings.parent == m_title %}
                {% case block.type %}
                  {% when 'seccion' %}
                    <span class="k-menu-label">{{ block.settings.title }}</span>
                  {% when 'enlace' %}
                    <a href="{{ block.settings.url }}" class="k-item" {% if block.settings.download %}download{% endif %}>
                      <div class="k-item-info">
                        <span class="k-item-title">{{ block.settings.title }}</span>
                        {% if block.settings.sub != blank %}<span class="k-item-sub">{{ block.settings.sub }}</span>{% endif %}
                      </div>
                    </a>
                  {% when 'solucion_rapida' %}
                    <div class="k-support-item js-support-item">
                      <button class="k-support-btn" onclick="kToggleSupport(this)">
                        <span>{{ block.settings.question }}</span>
                        <span>+</span>
                      </button>
                      <div class="k-support-answer" style="font-family: sans-serif; padding: 0 20px; font-size: 12px;">{{ block.settings.answer }}</div>
                    </div>
                {% endcase %}
              {% endif %}
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    </nav>
    <div class="k-actions-spacer"></div>
  </div>
</header>

<script>
  function kToggle(btn) {
    const parent = btn.parentElement;
    const wasOpen = parent.classList.contains('is-open');
    document.querySelectorAll('.js-drop').forEach(el => el.classList.remove('is-open'));
    if (!wasOpen) parent.classList.add('is-open');
  }
  function kToggleSupport(btn) {
    const item = btn.closest('.js-support-item');
    item.classList.toggle('is-active');
  }
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.js-drop')) {
      document.querySelectorAll('.js-drop').forEach(el => el.classList.remove('is-open'));
    }
  });
</script>

{% schema %}
{
  "name": "Kieslect Header Pro V2",
  "settings": [],
  "blocks": [
    {
      "type": "seccion",
      "name": "Título de Sección",
      "settings": [
        { "type": "select", "id": "parent", "label": "Menú", "options": [{"value": "Productos", "label": "Productos"},{"value": "Comunidad", "label": "Comunidad"},{"value": "Soporte", "label": "Soporte"}]},
        { "type": "text", "id": "title", "label": "Texto", "default": "CATEGORÍA" }
      ]
    },
    {
      "type": "enlace",
      "name": "Link o Archivo",
      "settings": [
        { "type": "select", "id": "parent", "label": "Menú", "options": [{"value": "Productos", "label": "Productos"},{"value": "Comunidad", "label": "Comunidad"},{"value": "Soporte", "label": "Soporte"}]},
        { "type": "text", "id": "title", "label": "Título", "default": "ENLACE" },
        { "type": "text", "id": "sub", "label": "Subtítulo" },
        { "type": "url", "id": "url", "label": "URL" }
      ]
    }
  ],
  "presets": [{ "name": "Kieslect Header Pro V2" }]
}
{% endschema %}