<style>
  /* 1. IMPORTACIÓN DE FUENTE ETHNOCENTRIC */
  @font-face {
    font-family: 'Ethnocentric';
    /* Sube el archivo .otf a Shopify > Contenido > Archivos y pega el link aquí */
    src: url('TU_LINK_DE_ARCHIVO_OTF') format('opentype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  :root { --k-cyan: #00D1FF; --k-bg: #0a0a0a; --k-font: 'Ethnocentric', sans-serif; }

  .k-header-wrapper { 
    width: 100%; 
    background: #000; 
    border-bottom: 1px solid #1a1a1a; 
    position: sticky; 
    top: 0; 
    z-index: 9999; 
    font-family: var(--k-font); /* Aplicada a todo el header */
  }

  .k-header-container { max-width: 1300px; height: 80px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; }
  
  /* MARCA ACTUALIZADA A KIESLECTECT */
  .k-logo a { 
    color: #fff; 
    text-decoration: none; 
    font-size: 20px; 
    font-weight: normal; 
    letter-spacing: 1px; 
  }

  .k-nav-main { display: flex; gap: 5px; }
  .k-dropdown { position: relative; }
  
  .k-drop-trigger { 
    background: transparent; 
    color: #fff; 
    border: none; 
    padding: 10px 15px; 
    font-size: 10px; 
    text-transform: uppercase; 
    cursor: pointer; 
    display: flex; 
    align-items: center; 
    gap: 6px; 
    transition: color 0.3s ease; 
    font-family: var(--k-font);
  }

  .k-drop-trigger:hover { color: var(--k-cyan); }
  .k-drop-menu { display: none; position: absolute; top: 100%; left: 0; background: var(--k-bg); min-width: 280px; border: 1px solid #1a1a1a; border-radius: 4px; padding: 15px 0; box-shadow: 0 20px 40px rgba(0,0,0,0.8); }
  .k-dropdown.is-open .k-drop-menu { display: block; animation: kSlideUp 0.25s ease forwards; }
  
  .k-menu-label { display: block; padding: 12px 20px 5px; color: var(--k-cyan); font-size: 8px; letter-spacing: 1px; text-transform: uppercase; border-top: 1px solid #1a1a1a; margin-top: 5px; }
  .k-item { display: flex !important; align-items: center; justify-content: space-between; padding: 12px 20px; text-decoration: none; transition: background 0.2s ease; border: none; background: transparent; width: 100%; text-align: left; cursor: pointer; }
  .k-item:hover { background: rgba(0, 209, 255, 0.08); }
  .k-item-title { color: #fff; font-size: 9px; text-transform: uppercase; font-family: var(--k-font); }
  .k-item-sub { color: #666; font-size: 9px; font-family: sans-serif; margin-top: 2px; } /* Subtítulo en sans-serif para lectura */
  
  @keyframes kSlideUp { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
  @media (max-width: 900px) { .k-nav-main { display: none; } }
</style>

<header class="k-header-wrapper">
  <div class="k-header-container">
    <div class="k-logo"><a href="/">KIESLECTECT</a></div>
    <nav class="k-nav-main">
      <a href="/" class="k-drop-trigger" style="text-decoration:none;">Inicio</a>
      {% assign menu_items = "Productos,Comunidad,Soporte" | split: "," %}
      {% for m_title in menu_items %}
        <div class="k-dropdown js-drop">
          <button class="k-drop-trigger" onclick="kToggle(this)">{{ m_title }}</button>
          <div class="k-drop-menu">
            {% for block in section.blocks %}
              {% if block.settings.parent == m_title %}
                {% case block.type %}
                  {% when 'seccion' %}
                    <span class="k-menu-label">{{ block.settings.title }}</span>
                  {% when 'enlace' %}
                    <a href="{{ block.settings.url }}" class="k-item" {% if block.settings.download %}download{% endif %}>
                      <div class="k-item-info">
                        <span class="k-item-title">{{ block.settings.title }}</span>
                        {% if block.settings.sub != blank %}<span class="k-item-sub">{{ block.settings.sub }}</span>{% endif %}
                      </div>
                    </a>
                {% endcase %}
              {% endif %}
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    </nav>
    <div class="k-actions-spacer"></div>
  </div>
</header>

<script>
  function kToggle(btn) {
    const parent = btn.parentElement;
    const wasOpen = parent.classList.contains('is-open');
    document.querySelectorAll('.js-drop').forEach(el => el.classList.remove('is-open'));
    if (!wasOpen) parent.classList.add('is-open');
  }
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.js-drop')) {
      document.querySelectorAll('.js-drop').forEach(el => el.classList.remove('is-open'));
    }
  });
</script>

{% schema %}
{
  "name": "Kieslect Header Pro V2",
  "settings": [],
  "blocks": [
    {
      "type": "seccion",
      "name": "Título de Sección",
      "settings": [
        { "type": "select", "id": "parent", "label": "Menú", "options": [{"value": "Productos", "label": "Productos"},{"value": "Comunidad", "label": "Comunidad"},{"value": "Soporte", "label": "Soporte"}]},
        { "type": "text", "id": "title", "label": "Texto", "default": "CATEGORÍA" }
      ]
    },
    {
      "type": "enlace",
      "name": "Link o Archivo",
      "settings": [
        { "type": "select", "id": "parent", "label": "Menú", "options": [{"value": "Productos", "label": "Productos"},{"value": "Comunidad", "label": "Comunidad"},{"value": "Soporte", "label": "Soporte"}]},
        { "type": "text", "id": "title", "label": "Título", "default": "Enlace" },
        { "type": "text", "id": "sub", "label": "Subtítulo" },
        { "type": "url", "id": "url", "label": "URL" }
      ]
    }
  ],
  "presets": [{ "name": "Kieslect Header Pro V2" }]
}
{% endschema %}