<style>
  @import url('https://fonts.googleapis.com/css2?family=Michroma&display=swap');
</style>

{%- style -%}
  :root { 
    --k-cyan: {{ section.settings.accent_color | default: '#00D1FF' }}; 
    --k-dark: #0a0a0a; 
    --font-futurista: 'Michroma', sans-serif;
  }

  .trust-bar-section { 
    background-color: #000; 
    padding: 60px 0; 
    border-top: 1px solid #1a1a1a; 
    border-bottom: 1px solid #1a1a1a;
  }

  .trust-bar-grid { 
    display: grid; 
    grid-template-columns: repeat(4, 1fr); 
    gap: 15px; 
    max-width: 1400px; 
    margin: 0 auto; 
    padding: 0 20px; 
  }

  .trust-item-wrapper { 
    background: var(--k-dark); 
    border-radius: 0px; /* Bordes rectos industriales */
    border: 1px solid #1a1a1a; 
    transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); 
    overflow: hidden; 
    position: relative; 
  }

  .trust-item-wrapper:hover { 
    border-color: var(--k-cyan); 
    background: #111;
  }

  .trust-item-wrapper.is-active { 
    border-color: var(--k-cyan); 
    background: #000;
    box-shadow: 0 0 20px rgba(0, 209, 255, 0.1); 
  }
  
  .trust-header { 
    display: flex; 
    align-items: center; 
    gap: 15px; 
    padding: 25px; 
    cursor: pointer; 
  }

  .trust-icon-wrapper { 
    width: 20px; 
    height: 20px;
    color: var(--k-cyan); 
    display: flex; 
    align-items: center; 
    justify-content: center;
    border: 1px solid rgba(0, 209, 255, 0.3);
    padding: 8px;
  }
  
  .trust-text { display: flex; flex-direction: column; }
  
  /* TÍTULO CON FUENTE FUTURISTA */
  .trust-title { 
    color: #fff; 
    font-family: var(--font-futurista) !important;
    font-size: 9px; 
    letter-spacing: 2px;
    text-transform: uppercase; 
    display: block; 
  }

  .trust-subtitle { 
    color: #555; 
    font-size: 10px; 
    margin-top: 6px;
    text-transform: uppercase;
    letter-spacing: 1px;
    font-family: sans-serif;
  }
  
  .trust-content { 
    max-height: 0; 
    overflow: hidden; 
    transition: all 0.5s ease; 
    background: #050505; 
    padding: 0 25px; 
  }

  .trust-item-wrapper.is-active .trust-content { 
    max-height: 600px; 
    padding: 10px 25px 30px 25px; 
    border-top: 1px solid rgba(255, 255, 255, 0.05); 
  }
  
  .trust-input { 
    background: #000; 
    border: 1px solid #222; 
    color: #fff; 
    padding: 12px; 
    border-radius: 0px; 
    font-size: 12px; 
    outline: none; 
    width: 100%; 
    box-sizing: border-box;
    transition: 0.3s;
  }

  .trust-input:focus { border-color: var(--k-cyan); }

  .trust-btn { 
    font-family: var(--font-futurista) !important;
    background: var(--k-cyan); 
    color: #000; 
    border: none; 
    width: 100%; 
    padding: 15px; 
    font-size: 9px; 
    font-weight: bold;
    cursor: pointer; 
    transition: 0.3s; 
    text-transform: uppercase; 
    text-decoration: none; 
    display: block; 
    text-align: center;
    letter-spacing: 1px;
  }

  .trust-btn:hover { background: #fff; }

  .add-block-info p { 
    font-size: 11px; 
    color: #888; 
    line-height: 1.6; 
    margin-bottom: 15px;
    font-family: sans-serif;
  }

  @media (max-width: 1000px) { .trust-bar-grid { grid-template-columns: 1fr 1fr; } }
  @media (max-width: 600px) { .trust-bar-grid { grid-template-columns: 1fr; } }
{%- endstyle -%}

<section class="trust-bar-section">
  <div class="trust-bar-grid">
    
    <div class="trust-item-wrapper">
      <div class="trust-header" onclick="toggleTrust(this)">
        <div class="trust-icon-wrapper">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 11l4 4L19 7"></path></svg>
        </div>
        <div class="trust-text">
          <span class="trust-title">{{ section.settings.title_1 }}</span>
          <span class="trust-subtitle">{{ section.settings.sub_1 }}</span>
        </div>
      </div>
      <div class="trust-content">
        <form id="rea-form" class="trust-form" style="display: flex; flex-direction: column; gap: 10px;">
          <input type="text" name="contact[name]" placeholder="NOMBRE COMPLETO" class="trust-input" required>
          <input type="email" name="contact[email]" placeholder="EMAIL" class="trust-input" required>
          <input type="text" name="contact[address]" placeholder="CIUDAD / DIRECCIÓN" class="trust-input" required>
          <button type="submit" class="trust-btn" id="btn-envio-rea">ENVIAR DATOS</button>
        </form>
        <div id="rea-mensaje" style="font-size: 10px; margin-top: 15px; display: none; color: var(--k-cyan); font-family: var(--font-futurista);"></div>
      </div>
    </div>

    <div class="trust-item-wrapper">
      <div class="trust-header" onclick="toggleTrust(this)">
        <div class="trust-icon-wrapper">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0110 0v4"></path></svg>
        </div>
        <div class="trust-text">
          <span class="trust-title">{{ section.settings.title_2 }}</span>
          <span class="trust-subtitle">{{ section.settings.sub_2 }}</span>
        </div>
      </div>
      <div class="trust-content">
        <div class="add-block-info">
          <p>{{ section.settings.info_2 }}</p>
        </div>
        <a href="{{ section.settings.link_2 }}" class="trust-btn">VER MÉTODOS</a>
      </div>
    </div>

    <div class="trust-item-wrapper">
      <div class="trust-header" onclick="toggleTrust(this)">
        <div class="trust-icon-wrapper">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="3" width="15" height="13"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg>
        </div>
        <div class="trust-text">
          <span class="trust-title">{{ section.settings.title_3 }}</span>
          <span class="trust-subtitle">{{ section.settings.sub_3 }}</span>
        </div>
      </div>
      <div class="trust-content">
        <form action="{{ section.settings.link_tracking }}" method="get" class="trust-form" style="display: flex; flex-direction: column; gap: 10px;">
          <input type="text" class="trust-input" placeholder="NRO DE GUÍA" required>
          <button type="submit" class="trust-btn">RASTREAR PEDIDO</button>
        </form>
      </div>
    </div>

    <div class="trust-item-wrapper">
      <div class="trust-header" onclick="toggleTrust(this)">
        <div class="trust-icon-wrapper">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z"></path></svg>
        </div>
        <div class="trust-text">
          <span class="trust-title">{{ section.settings.title_4 }}</span>
          <span class="trust-subtitle">{{ section.settings.sub_4 }}</span>
        </div>
      </div>
      <div class="trust-content">
        <div class="add-block-info">
          <p>{{ section.settings.info_4 }}</p>
        </div>
        <a href="#" class="trust-btn">CONTACTAR AGENTE</a>
      </div>
    </div>

  </div>
</section>

<script>
function toggleTrust(element) {
  const wrapper = element.closest('.trust-item-wrapper');
  const isActive = wrapper.classList.contains('is-active');
  document.querySelectorAll('.trust-item-wrapper').forEach(item => item.classList.remove('is-active'));
  if (!isActive) wrapper.classList.add('is-active');
}

document.getElementById('rea-form')?.addEventListener('submit', function(e) {
  e.preventDefault();
  const btn = document.getElementById('btn-envio-rea');
  const msg = document.getElementById('rea-mensaje');
  btn.innerText = 'PROCESANDO...';
  
  fetch('/contact', {
    method: 'POST',
    body: new FormData(this)
  }).then(() => {
    msg.style.display = 'block';
    msg.innerHTML = 'TRANSACCIÓN COMPLETA // DATOS RECIBIDOS';
    btn.innerText = 'COMPLETADO';
    this.reset();
  });
});
</script>

{% schema %}
{
  "name": "Trust Bar Futurista",
  "settings": [
    { "type": "color", "id": "accent_color", "label": "Color Acento", "default": "#00D1FF" },
    { "type": "text", "id": "title_1", "label": "Título 1", "default": "LOGÍSTICA" },
    { "type": "text", "id": "sub_1", "label": "Subtítulo 1", "default": "ENVÍO PRIORITARIO" },
    { "type": "text", "id": "title_2", "label": "Título 2", "default": "SECURITY" },
    { "type": "text", "id": "sub_2", "label": "Subtítulo 2", "default": "PAGO ENCRIPTADO" },
    { "type": "textarea", "id": "info_2", "label": "Info Pago", "default": "SISTEMAS DE PAGO SEGURO ACTIVOS: VISA, MASTERCARD, TRANSFERENCIAS." },
    { "type": "url", "id": "link_2", "label": "Link Botón Pago" },
    { "type": "text", "id": "title_3", "label": "Título 3", "default": "TRACKING" },
    { "type": "text", "id": "sub_3", "label": "Subtítulo 3", "default": "RASTREO EN TIEMPO REAL" },
    { "type": "url", "id": "link_tracking", "label": "Link Rastreo" },
    { "type": "text", "id": "title_4", "label": "Título 4", "default": "SOPORTE" },
    { "type": "text", "id": "sub_4", "label": "Subtítulo 4", "default": "CANAL DE AYUDA 24/7" },
    { "type": "textarea", "id": "info_4", "label": "Info Soporte", "default": "NUESTRO EQUIPO TÉCNICO ESTÁ DISPONIBLE PARA RESOLVER TUS DUDAS." }
  ],
  "presets": [{ "name": "Trust Bar Futurista" }]
}
{% endschema %}