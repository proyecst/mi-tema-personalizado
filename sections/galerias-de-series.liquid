<div class="galeria-montaje" style="background-color: {{ section.settings.bg_color }};">
  {% if section.settings.title != blank %}
    <h2 class="titulo-seccion">{{ section.settings.title }}</h2>
  {% endif %}

  <div class="contenedor-grid">
    {%- for block in section.blocks -%}
      <div class="bloque-item" {{ block.shopify_attributes }}>
        
        <div class="imagen-wrapper">
          {%- if block.settings.imagen_subida != blank -%}
            <img src="{{ block.settings.imagen_subida | image_url: width: 800 }}" alt="{{ block.settings.texto_titulo }}">
          {%- else -%}
            {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
          {%- endif -%}
        </div>

        <div class="contenido-texto">
          <h3>{{ block.settings.texto_titulo }}</h3>
          <div class="desc">{{ block.settings.texto_desc }}</div>
        </div>

      </div>
    {%- endfor -%}
  </div>
</div>

<style>
  .galeria-montaje { padding: 40px 20px; text-align: center; }
  .titulo-seccion { margin-bottom: 30px; font-size: 24px; }
  .contenedor-grid { 
    display: flex; 
    flex-wrap: wrap; 
    gap: 20px; 
    justify-content: center; 
  }
  .bloque-item { 
    flex: 1 1 300px; 
    max-width: 400px; 
    border: 1px solid #eee; 
    padding: 10px;
    background: #fff;
  }
  .imagen-wrapper img, .placeholder-svg { 
    width: 100%; 
    height: 300px; 
    object-fit: cover; 
  }
  .contenido-texto { padding: 15px; text-align: left; }
</style>

{% schema %}
{
  "name": "Mi Galería Manual",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Título de la Sección",
      "default": "Galería Personalizada"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Fondo de Sección",
      "default": "#ffffff"
    }
  ],
  "blocks": [
    {
      "type": "contenido_manual",
      "name": "Bloque de Contenido",
      "settings": [
        {
          "type": "image_picker",
          "id": "imagen_subida",
          "label": "Sube tu Imagen"
        },
        {
          "type": "text",
          "id": "texto_titulo",
          "label": "Título del bloque",
          "default": "Nueva Serie"
        },
        {
          "type": "richtext",
          "id": "texto_desc",
          "label": "Descripción",
          "default": "<p>Escribe aquí el detalle de esta imagen.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Mi Galería Manual",
      "blocks": [
        { "type": "contenido_manual" }
      ]
    }
  ]
}
{% endschema %}