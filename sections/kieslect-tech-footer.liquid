{%- style -%}
  .k-footer {
    background-color: {{ section.settings.bg_color }};
    color: {{ section.settings.text_color }};
    padding: 80px 0 40px 0;
    font-family: 'Inter', sans-serif;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
    overflow: hidden;
  }

  .k-footer::before {
    content: "";
    position: absolute;
    top: 0; left: 10%; width: 80%; height: 1px;
    background: linear-gradient(90deg, transparent, {{ section.settings.accent_color }}, transparent);
    opacity: 0.5;
  }

  .footer-container {
    max-width: 1300px;
    margin: 0 auto;
    padding: 0 25px;
    display: flex;
    flex-wrap: wrap;
    gap: 50px;
    justify-content: space-between;
  }

  .footer-column {
    flex: 1;
    min-width: 200px;
  }

  .footer-brand { flex: 2; min-width: 300px; }

  .footer-brand h2 {
    font-size: 1.8rem;
    font-weight: 900;
    letter-spacing: -1px;
    margin: 0 0 20px 0;
    text-transform: uppercase;
  }

  .footer-brand p {
    font-size: 0.95rem;
    line-height: 1.7;
    opacity: 0.6;
    max-width: 320px;
  }

  .footer-column h3 {
    font-size: 0.85rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 25px;
    color: {{ section.settings.accent_color }};
  }

  .footer-list { list-style: none; padding: 0; margin: 0; }
  .footer-list li { margin-bottom: 14px; }
  .footer-list a {
    text-decoration: none;
    color: {{ section.settings.text_color }};
    opacity: 0.5;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    display: inline-block;
    position: relative;
  }

  .footer-list a:hover { opacity: 1; transform: translateX(5px); }

  .footer-bottom {
    max-width: 1300px;
    margin: 60px auto 0 auto;
    padding: 30px 25px 0 25px;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .footer-copyright { font-size: 0.75rem; opacity: 0.4; letter-spacing: 1px; }

  .footer-socials { display: flex; gap: 15px; margin-top: 25px; }
  .footer-social-link {
    width: 35px; height: 35px;
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    transition: 0.3s; color: {{ section.settings.text_color }};
  }
  .footer-social-link:hover {
    background: {{ section.settings.accent_color }};
    color: #000;
    transform: translateY(-3px);
  }

  @media screen and (max-width: 600px) {
    .footer-container { flex-direction: column; text-align: center; }
    .footer-brand p { margin: 0 auto; }
    .footer-bottom { flex-direction: column; gap: 25px; }
    .footer-socials { justify-content: center; }
  }
{%- endstyle -%}

<footer class="k-footer">
  <div class="footer-container">
    {% for block in section.blocks %}
      <div class="footer-column block-{{ block.id }} {% if block.type == 'brand' %}footer-brand{% endif %}" {{ block.shopify_attributes }}>
        
        {% case block.type %}
          {% when 'brand' %}
            {% if block.settings.logo_text != blank %}
              <h2>{{ block.settings.logo_text }}</h2>
            {% endif %}
            <p>{{ block.settings.description }}</p>
            {% if block.settings.show_social %}
              <div class="footer-socials">
                {% if settings.social_instagram_link != blank %}
                  <a href="{{ settings.social_instagram_link }}" class="footer-social-link">IG</a>
                {% endif %}
                {% if settings.social_twitter_link != blank %}
                  <a href="{{ settings.social_twitter_link }}" class="footer-social-link">TW</a>
                {% endif %}
              </div>
            {% endif %}

          {% when 'menu' %}
            <h3>{{ block.settings.title }}</h3>
            <ul class="footer-list">
              {% for link in linklists[block.settings.menu].links %}
                <li><a href="{{ link.url }}">{{ link.title }}</a></li>
              {% endfor %}
            </ul>

          {% when 'text' %}
            <h3>{{ block.settings.title }}</h3>
            <div style="font-size: 0.9rem; opacity: 0.6; line-height: 1.6;">
              {{ block.settings.content }}
            </div>
            {% if block.settings.show_status %}
              <div style="margin-top:20px;">
                <span style="font-size: 10px; font-weight: 800; color: {{ section.settings.accent_color }};">ESTADO:</span>
                <div style="display:flex; align-items:center; gap:8px; margin-top:5px;">
                   <span style="width:8px; height:8px; background:#27ae60; border-radius:50%; box-shadow: 0 0 10px #27ae60;"></span>
                   <span style="font-size: 11px; font-weight:600; opacity:0.8;">{{ block.settings.status_text }}</span>
                </div>
              </div>
            {% endif %}

        {% endcase %}
      </div>
    {% endfor %}
  </div>

  <div class="footer-bottom">
    <div class="footer-copyright">
      &copy; {{ 'now' | date: "%Y" }} {{ section.settings.copyright_text }}
    </div>
    <div class="footer-payment-icons">
      {% for type in shop.enabled_payment_types %}
        {{ type | payment_type_svg_tag: class: 'icon icon--full-color' }}
      {% endfor %}
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Kieslect Tech Footer",
  "max_blocks": 5,
  "settings": [
    { "type": "color", "id": "bg_color", "label": "Fondo", "default": "#000000" },
    { "type": "color", "id": "text_color", "label": "Texto", "default": "#ffffff" },
    { "type": "color", "id": "accent_color", "label": "Color Acento", "default": "#00D1FF" },
    { "type": "text", "id": "copyright_text", "label": "Texto Copyright", "default": "KIESLECT TECHNOLOGY. ENGINEERED FOR THE FUTURE." }
  ],
  "blocks": [
    {
      "type": "brand",
      "name": "Logo y Marca",
      "limit": 1,
      "settings": [
        { "type": "text", "id": "logo_text", "label": "Logo", "default": "KIESLECT" },
        { "type": "textarea", "id": "description", "label": "Descripción", "default": "Elevando los estándares de la tecnología wearable." },
        { "type": "checkbox", "id": "show_social", "label": "Mostrar Redes Sociales", "default": true }
      ]
    },
    {
      "type": "menu",
      "name": "Menú de Navegación",
      "settings": [
        { "type": "text", "id": "title", "label": "Título", "default": "Enlaces" },
        { "type": "link_list", "id": "menu", "label": "Seleccionar Menú" }
      ]
    },
    {
      "type": "text",
      "name": "Información/Contacto",
      "settings": [
        { "type": "text", "id": "title", "label": "Título", "default": "Soporte" },
        { "type": "richtext", "id": "content", "label": "Contenido", "default": "<p>Global Support: hello@kieslect.com</p>" },
        { "type": "checkbox", "id": "show_status", "label": "Mostrar Estado del Servicio", "default": true },
        { "type": "text", "id": "status_text", "label": "Texto de Estado", "default": "Sistemas Operativos" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Kieslect Tech Footer",
      "blocks": [
        { "type": "brand" },
        { "type": "menu" },
        { "type": "menu" },
        { "type": "text" }
      ]
    }
  ]
}
{% endschema %}