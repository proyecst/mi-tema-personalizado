{%- style -%}
  .category-grid-container {
    padding: 40px 20px;
    max-width: 1200px;
    margin: 0 auto;
  }
  .category-grid {
    display: grid;
    gap: 20px;
    grid-template-columns: repeat(2, 1fr); /* Móvil: 2 columnas */
  }
  @media (min-width: 768px) {
    .category-grid {
      grid-template-columns: repeat(3, 1fr); /* Tablet: 3 columnas */
    }
  }
  @media (min-width: 1024px) {
    .category-grid {
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Desktop: hasta 6-7 columnas */
    }
  }
  .category-card {
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    transition: transform 0.3s ease;
    background-color: #f4f4f4;
  }
  .category-card:hover {
    transform: translateY(-5px);
  }
  .category-card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .category-card-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(0deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0) 100%);
    padding: 15px;
    color: white;
    text-align: center;
  }
  .category-card-title {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
  }
  .category-link {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }
{%- endstyle -%}

<div class="category-grid-container">
  <h2 style="text-align: center; margin-bottom: 30px;">Explora nuestras categorías</h2>
  <div class="category-grid">
    {% for block in section.blocks %}
      <div class="category-card">
        {% if block.settings.image %}
          <img src="{{ block.settings.image | img_url: '400x400', crop: 'center' }}" alt="{{ block.settings.title }}">
        {% endif %}
        <div class="category-card-overlay">
          <p class="category-card-title">{{ block.settings.title }}</p>
        </div>
        <a href="{{ block.settings.link }}" class="category-link"></a>
      </div>
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "Grid de Categorías",
  "settings": [],
  "blocks": [
    {
      "type": "category",
      "name": "Categoría",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Imagen de categoría" },
        { "type": "text", "id": "title", "label": "Título", "default": "Categoría" },
        { "type": "url", "id": "link", "label": "Enlace a la colección" }
      ]
    }
  ],
  "presets": [{ "name": "Grid de Categorías Smartwatch" }]
}
{% endschema %}